
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Nicole's Thesis, IIT 2018
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\documentclass{iitthesis}

% Document Options:
%
% Note if you want to save paper when printing drafts,
% replace the above line by
%
%   \documentclass[draft]{iitthesis}
%
% See Help file for more about options.

\usepackage{graphicx}    % This package is used for Figures
\usepackage{rotating}           % This package is used for landscape mode.
\usepackage{epsfig}
\usepackage{subfigure}          % These two packages, epsfig and subfigure, are used for creating subplots.
\usepackage{siunitx}
\usepackage[shortcuts]{extdash}
\renewcommand{\thefootnote}{\arabic{footnote}}
\usepackage[bf, labelsep=period]{caption}
\usepackage{url}
\usepackage{booktabs}
\usepackage[american]{circuitikz}
\usepackage[normalem]{ulem}
\usepackage[utf8]{inputenc}
\usepackage{tikz}
\usetikzlibrary{shapes.misc}
\usetikzlibrary{shapes,arrows,decorations.markings,shadows,positioning}

%% Only for editing process...TAKE OUT for FINAL DRAFT
\usepackage{graphicx,xcolor,enumitem}
\newcommand{\lsnote}[1]{\textsf{{\color{violet}{ LS note:}   #1 }}}
\newcommand{\nrnote}[1]{\textsf{{\color{blue}{ NN note:}   #1 }}}
\newcommand{\jpnote}[1]{\textsf{{\color{green}{ JP note:}   #1 }}}


%Code formatting???
\usepackage[utf8]{inputenc}
\usepackage{listings}
\usepackage{color}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
	backgroundcolor=\color{backcolour},   
	commentstyle=\color{codegreen},
	keywordstyle=\color{magenta},
	numberstyle=\tiny\color{codegray},
	stringstyle=\color{codepurple},
	basicstyle=\footnotesize,
	breakatwhitespace=false,         
	breaklines=true,                 
	captionpos=b,                    
	keepspaces=true,                 
	numbers=left,                    
	numbersep=5pt,                  
	showspaces=false,                
	showstringspaces=false,
	showtabs=false,                  
	tabsize=2
}

\lstset{style=mystyle}

\begin{document}

\title{Design for Staged Two Beam Acceleration at the Argonne Wakefield Accelerator Facility}

\author{Nicole Neveu }
\degree{Doctor of Philosophy}
\dept{Physics}
\date{May 2018}
\copyrightnoticetrue      % crate copyright page or not
%\coadvisortrue           % add co-advisor. activate it by removing % symbol to add co-advisor
\maketitle                % create title and copyright pages


\prelimpages         % Settings of preliminary pages are done with \prelimpages command

%%%  Acknowledgement %%%
\begin{acknowledgement}     % acknowledgement environment, this is optional
	\par  Family, Lalo, Linda, John, AWA group, Jeff
	%\input{ackno.tex} % you need a separate acknowledgement.tex file to include it.
\end{acknowledgement}

% Table of Contents
\tableofcontents
\clearpage

% List of Tables
\listoftables
\clearpage

%List of Figures
\listoffigures
\clearpage

%List of Symbols(optional)

\listofsymbols
\SymbolDefinition{$c$}{Speed of Light}
\SymbolDefinition{$\epsilon$}{Dielectric Permittivity}
\SymbolDefinition{$\epsilon$}{6D Phase Space Emittance}
\SymbolDefinition{$\gamma$}{Relativistic Kinetic Energy}

\clearpage


%%% Abstract %%%
\begin{abstract}           % abstract environment, this is optional
	\par Staged two beam acceleration using dielectric structures has yet to 
	be achieved anywhere in the world. In this thesis, I discuss the beam 
	line design and simulation, followed by experimental results of a 
	beam line with the potential for dielectric TBA.   
\end{abstract}

\textpages     % Settings of text-pages are done with \textpages command

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\include{introduction}
%\clearpage

%\include{exp_setup}
%\clearpage

%\include{simulations_optimization}
%\clearpage

\include{beam_line_design}
\clearpage

%\include{exp_results}
%\clearpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\footnote{My Footnote} 
\Chapter{CONCLUSION}
%   \input{Conclusion.tex}
You need a Conclusion.tex file

\clearpage


%
% APPENDIX
%
\appendix

\Appendix{How to build OPAL on Bebop at ANL} \label{build}
This set of instructions is tailored to the bebop cluster at ANL. 
Intel compilers and intel-MPI were used to build OPAL and all 
the libraries it is dependent on.
\begin{enumerate}[label=Step \arabic*:]
	\item Load modules 

I purge modules first, this will force an error message if any changes
to the system modules occur.
\begin{lstlisting}
	module purge
	module load intel
	module load intel-mpi 
	module load cmake 
	module load gmp   
	module load mpfr  
	module load mpc   
	module load hdf5   
	module load gsl   
	module load intel-mkl
	module load szip
\end{lstlisting}

    \item Set environment variables for compilers 
 
These variables point to intel compilers. 
\begin{lstlisting}
CC=mpiicc;CXX=mpiicpc;F90=ifort;F77=ifort
export CC CXX F90 F77
\end{lstlisting}

    \item Set enviornment variables for self built libraries.
    
I built these libraries separately because they were not available as 
modules on the cluster. 

\begin{lstlisting}
	export PATH="/blues/gpfs/home/neveu/git/H5hut-2.0.0rc3/build:${PATH}"
	
	export H5HUT_HOME=$HOME/git/H5hut-2.0.0rc3/build_intel
	export H5HUT_PREFIX=$H5HUT_HOME
	export H5HUT_DIR=$H5HUT_HOME
	export H5HUT_INCLUDE_DIR=$H5HUT_HOME/include
	export H5HUT_LIBRARY_DIR=$H5HUT_HOME/lib
	
	export BOOST_HOME=$HOME/git/boost_1_62_0/build/
	export BOOST_DIR=$BOOST_HOME
	export BOOST_PREFIX=$BOOST_HOME
	export BOOST_INCLUDE_DIR=$BOOST_HOME/include
	export BOOST_LIBRARY_DIR=$BOOST_HOME/lib
	export BOOST_ROOT=/home/neveu/git/boost_1_62_0/
	echo $BOOST_ROOT
	echo $BOOST_DIR
\end{lstlisting}

    \item Call cmake 
    
There are two cmake calls I use depending on if I'm building for 
BDW (\verb|-axCORE-AVX2|) or KNL (\verb|-axMIC-AVX512|) architecture. 
    
\begin{lstlisting}
cmake -DCMAKE_INSTALL_PREFIX=/home/neveu/software/opal-1.9/bdw -DCMAKE_CXX_FLAGS="-lsz -axCORE-AVX2" ..
\end{lstlisting}

    \item Call make, then make install
I usually call make with a large number of cores to speed up the compilation.    
\begin{lstlisting}
	make -j 30 
	make install
\end{lstlisting}

\end{enumerate}



%\moretox

\Appendix{OPAL stuff? MCS Stuff?}

Your second appendix text....

\newpage
%
% BIBLIOGRAPHY
%
\bibliographystyle{plain}
\bibliography{thesis}

\end{document}  % end of document





























